const symbols=["BNBBUSD","DOTBUSD","ACABUSD","FTTBUSD"],strategies=["RHMAC","RICHIMOKU","RMACD","RPSAREMA","RRSIHA","BUBD","CUD","MOM","DUMB"],api="https://tradingview-tradejournal.herokuapp.com/trades",dateOpt={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},ui={menu:{symbols:"#pairSelect",strategies:"#strategySelect",tableDesc:"#tradeListDescription"},elements:{table:{main:"#tradesTable",title:"#tradesTableTitle",thead:"#tradesTableHead",tbody:"#tradesTableBody"}}};function getCurrentPrice(e){const t=`https://api.binance.com/api/v1/ticker/24hr?symbol=${e}`;$.ajax({url:t,type:"GET",dataType:"json",success:function(e){console.log(e),localStorage.setItem("currentPrice",JSON.stringify(e))},error:function(){console.log("We are sorry but our servers are having an issue right now")}})}function init(){const e=localStorage.getItem("history"),t=JSON.parse(e);$(ui.elements.table.title).text("Trades History"),renderTable(t)}function renderTable(e){let t="";e.forEach((e=>{let a;a="buy"===e.side?parseFloat(e.exchangePrice.ask):parseFloat(e.exchangePrice.bid),t+=`<tr> <td>${e.side}</td> <td>${parseFloat(e.orderSize)}</td> <td>${new Date(e.serverTstamp).toLocaleDateString("ro-RO",dateOpt)}</td> <td>${e.symbol}</td><td>${a}</td></tr>`})),volumes(e),$(ui.elements.table.tbody).html(t)}function symbolFilter(e,t){return e.filter((e=>cleanStr(e.symbol)===cleanStr(t)))}function symbolaStratFilter(e,t,a){return e.filter((e=>cleanStr(e.symbol)===cleanStr(t)&&cleanStr(e.strategyTitle)===cleanStr(a)))}function cleanStr(e){return e.replace(/\s+/g,"")}!function(){if($("#nav-toggle").length&&$("#nav-toggle").on("click",(function(e){e.preventDefault(),$("#db-wrapper").toggleClass("toggled")})),$(".nav-scroller").length&&$(".nav-scroller").slimScroll({height:"97%"}),$(".notification-list-scroll").length&&$(".notification-list-scroll").slimScroll({height:300}),$('[data-bs-toggle="tooltip"]').length)[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)}));if($('[data-bs-toggle="popover"]').length)[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map((function(e){return new bootstrap.Popover(e)}));$('[data-bs-spy="scroll"]').length&&[].slice.call(document.querySelectorAll('[data-bs-spy="scroll"]')).forEach((function(e){bootstrap.ScrollSpy.getInstance(e).refresh()}));if($(".toast").length)[].slice.call(document.querySelectorAll(".toast")).map((function(e){return new bootstrap.Toast(e)}));if($("#perfomanceChart").length){new ApexCharts(document.querySelector("#perfomanceChart"),{series:[100,78,89],chart:{height:320,type:"radialBar"},colors:["#28a745","#ffc107","#dc3545"],stroke:{lineCap:"round"},plotOptions:{radialBar:{startAngle:-168,endAngle:-450,hollow:{size:"55%"},track:{background:"transaprent"},dataLabels:{show:!1}}}}).render()}if($(".offcanvas").length)[].slice.call(document.querySelectorAll(".offcanvas")).map((function(e){return new bootstrap.Offcanvas(e)}))}(),$(document).ready((function(){symbols.forEach((e=>{$(ui.menu.symbols).append(`<option value="${e}">${e}</option>`)})),strategies.forEach((e=>{$(ui.menu.strategies).append(`<option value="${e}">${e}</option>`)})),$.get(`${api}`,(function(e,t){localStorage.setItem("trades",JSON.stringify(e))})),$(ui.menu.symbols).on("change",(function(){if($(ui.menu.strategies).val()){const e=JSON.parse(localStorage.getItem("trades")).filter((e=>e.symbol===$(ui.menu.symbols).val()&&e.strategy===$(ui.menu.strategies).val()));$(ui.menu.tableDesc).text(`${e.length} ${$(ui.menu.strategies).val()} trades for ${$(this).val()}`),renderTable(e)}else $(ui.menu.tableDesc).text(`Please select a strategy for ${$(this).val()}`)})),$(ui.menu.strategies).on("change",(function(){if($(ui.menu.symbols).val()){const e=JSON.parse(localStorage.getItem("trades")).filter((e=>e.symbol===$(ui.menu.symbols).val()&&e.strategy===$(ui.menu.strategies).val()));$(ui.menu.tableDesc).text(`${e.length} ${$(this).val()} trades for ${$(ui.menu.symbols).val()}`),renderTable(e)}else $(ui.menu.tableDesc).text(`Please the pair for ${$(this).val()}`)}))})),feather.replace(),function(){var e=window.location+"",t=e.replace(window.location.protocol+"//"+window.location.host+"/","");$("ul#sidebarnav a").filter((function(){return this.href===e||this.href===t})).parentsUntil(".sidebar-nav").each((function(e){$(this).is("li")&&0!==$(this).children("a").length?($(this).children("a").addClass("active"),$(this).parent("ul#sidebarnav").length,$(this).addClass("active")):$(this).is("ul")||0!==$(this).children("a").length?$(this).is("ul")&&$(this).addClass("in"):$(this).addClass("active")}))}();